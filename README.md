# jarabot-simulator-slam

A ROS 2 Humble–based Jarabot simulator with Cartographer SLAM integration.

## Author

**Yonguk Cho**  
Robotics Developer / ROS 2 Engineer  
Creator of Jarabot Simulator


This repository extends the original **Jarabot Simulator** by adding
**Cartographer SLAM**, enabling real-time map building and localization
using simulated LiDAR data.

It is designed for **ROS 2 SLAM education, simulation-based testing,
and algorithm development without real hardware**.

> Keywords: ROS2 Simulator, Mobile Robot Simulator, LiDAR, RViz2, Odometry, TF, SLAM, Navigation2

---

### Image of the actual JaraBot

![Jarabot RViz](jarabot.png)

### Image of the Jarabot simulator operating in RViz

![Jarabot RViz](jarabot_sim_slam.png)


## Features

- 2D differential-drive mobile robot simulator
- Simulated 2D LiDAR (`/scan`)
- Encoder-based odometry (`/odom`)
- TF tree broadcasting (`odom → base_link`)
- Cartographer SLAM integration
- RViz2 visualization
- Keyboard teleoperation
- Safety stop node for collision protection

---

## Requirements

- Ubuntu 22.04
- ROS 2 Humble
- RViz2

---

## Workspace Structure

This repository follows the standard ROS 2 `colcon` workspace layout:

```text
jarabot_sim_ws
├── src
│   ├── jarabot_sim
│   ├── jarabot_sim_cartographer
│   ├── jarabot_sim_interfaces
│   ├── jarabot.png
│   ├── jarabot_sim_rviz.png
│   └── README.md
├── build
├── install
└── log
```

---

⚠️  build/, install/, and log/ directories are generated by colcon
and are not required to be pushed to GitHub.

## Packages Overview
### 1. jarabot_sim

- Core simulator package.
- LiDAR simulation
- Encoder & odometry
- TF publishing
- RViz marker & path visualization
- Safety stop node

### 2. jarabot_sim_cartographer

- Cartographer SLAM integration package.
- Cartographer configuration
- SLAM launch files
- Map generation in RViz

### 3. jarabot_sim_interfaces

Custom message definitions for Jarabot.

## Installation

```bash
mkdir -p ~/jarabot_sim_ws/src
cd ~/jarabot_sim_ws/src
git clone https://github.com/playros/jarabot-simulator-slam.git .
```

## Build

```bash
cd ~/jarabot_sim_ws
colcon build --symlink-install
source install/setup.bash
```

## Running the Simulator + SLAM

This project is designed to be run using 5 separate terminals.

### Terminal 1 – Jarabot Simulator

```bash
source ~/jarabot_sim_ws/install/setup.bash
ros2 launch jarabot_sim jarabot_simulator.launch.py
```

### Terminal 2 – Cartographer SLAM

```bash
source ~/jarabot_sim_ws/install/setup.bash
ros2 launch jarabot_sim_cartographer cartographer_slam.launch.py
```

### Terminal 3 – RViz2

```bash
source ~/jarabot_sim_ws/install/setup.bash
rviz2
```

### Terminal 4 – Keyboard Teleoperation

```bash
source ~/jarabot_sim_ws/install/setup.bash
ros2 run teleop_twist_keyboard teleop_twist_keyboard \
  --ros-args -r cmd_vel:=/cmd_vel_raw
```

### Terminal 5 – Safety Stop Node

```bash
source ~/jarabot_sim_ws/install/setup.bash
ros2 run jarabot_sim jarabot_sim_safety_stop
```

## Keyboard Control (teleop_twist_keyboard)

| Key        | Action                    |
| ---------- | ------------------------- |
| `i`        | Move forward              |
| `,`        | Move backward             |
| `j`        | Rotate left               |
| `l`        | Rotate right              |
| `k`        | Stop                      |
| `q / z`    | Increase / decrease speed |
| `Ctrl + C` | Exit                      |

## Main Topics

| Topic          | Type                     | Description           |
| -------------- | ------------------------ | --------------------- |
| `/scan`        | `sensor_msgs/LaserScan`  | Simulated LiDAR       |
| `/odom`        | `nav_msgs/Odometry`      | Odometry              |
| `/tf`          | TF                       | Coordinate transforms |
| `/cmd_vel_raw` | `geometry_msgs/Twist`    | Raw velocity command  |
| `/map`         | `nav_msgs/OccupancyGrid` | SLAM-generated map    |

## Visualization

### RViz2 can be used to visualize:
- Robot model & markers
- LiDAR scan
- SLAM map
- Robot trajectory
- TF tree

---

### Use Cases

- ROS 2 SLAM education
- Cartographer configuration testing
- Navigation2 pre-integration testing
- Simulation-only robotics training

---

### License

MIT License

---
Developed and maintained by **Yonguk Cho**.
---
**Jarabot Simulator** (also known as **jarabot-simulator** or **jarabot simulator**)








